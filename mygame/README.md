# MMO QHXGame Demo

本项目实现了游戏服务端的大部分基础功能，并在此基础上设计了一个多人联机小游戏。目前该游戏只是一个demo，并没有什么玩法，以下是关于这个demo的一些介绍：

## 同步类型

该demo采用状态同步，并且是强服务端型游戏，玩家所有的操作（释放技能，背包管理，移动，奔跑等）都会与服务端同步，并且服务端会对玩家所有操作进行判定和广播，最大程度断绝玩家作弊的可能。

## 功能实现

### 服务端

1. 基于TCP协议设计网络模块，使用Protocol Buffers实现消息传输的类型对齐和序列化。
2. 设计并实现高效的消息队列系统，支持消息的订阅、退订和分发。
3. 采用异步通信模型与多线程消费者模式，提升双端通信的并发性能和响应速度。
4. 处理大小端差异，使用字节流对传输报文进行编码与压缩。
5. 基于Serilog框架构建多级日志系统。
6. 设计并实现程序调度模块与进程心跳机制，实时监控服务器运行状态，确保系统的稳定性和高可用性。
7. 使用MySQL数据库进行玩家信息及状态的存储和管理，并以此实现简单的登陆与注册功能。
8. 基于UDP协议实现全局消息广播，基于TCP协议实现简单的局内聊天功能。

### 客户端

1. 实现玩家角色实例化，并设计简单的动作逻辑以支持多样化的角色动画和行为。
2. 设计并优化用户界面（UI）交互逻辑，提升玩家的交互体验。
3. 设计并实现状态同步模块，确保客户端与服务器之间的数据一致性和同步效率。
4. 为野怪设计了简单的状态机，使得野怪能够与玩家产生交互（巡逻、索敌、追逐、战斗、受击、死亡、重生）。
5. 为玩家的角色设计了简单的技能与普通攻击，玩家能够通过选择对应的目标来释放技能。
6. 为玩家设置若干个传送门，玩家阵亡后会回到新手村，并能够通过传送门重返战场。
7. 为玩家设计了简单的背包系统，能够对背包内的物品进行拖拽、抛弃、详细物品信息显示等功能。

## 如何运行该demo

双击该目录下的 `MMOGAME.exe` 即可运行。

## 相关操作介绍

1. 按住 `LShift` 奔跑
2. 鼠标右键转动视角
3. `Tab` 锁定2000码之内最近的敌人，也可以用鼠标左键点击来锁定敌人
4. 锁定敌人之后，点击下方的技能图标即可释放技能
5. 该demo实现了简单的背包系统，可以对物品进行加入背包、批量移除背包、拖拽、换位、显示详细信息等功能
6. 地图遍布着发着“黄色金光”的传送门，玩家可以与其进行交互
